<!DOCTYPE html>
<html>
	<head>
		<title>Levels of TCP/IP</title>
		<style>
			table {
				border-collapse:collapse;
			}
			table td, table th {
				border:1px solid black;
				text-align:center;
			}
			table td:last-of-type{
				text-align:left;
			}
		</style>
	</head>
	<body>
	<h3>TCP/IP</h3>
	<p>Стек протоколов TCP/IP — набор сетевых протоколов передачи данных, используемых в сетях, включая сеть Интернет. Название TCP/IP происходит из двух наиважнейших протоколов семейства — Transmission Control Protocol (TCP) и Internet Protocol (IP), которые были разработаны и описаны первыми в данном стандарте.</p>
		<table>
			<tr><th colspan="3">Уровни стека протоколов TCP/IP</th></tr>
			<tr>
				<th>Название</th>
				<th>Примеры</th>
				<th>Описание</th>
			</tr>
			<tr>
				<td>Прикладной (Application layer)</td>
				<td>HTTP, SMTP, RTSP, FTP, DNS</td>
				<td>На прикладном уровне (Application layer) работает большинство сетевых приложений. Эти протоколы работают поверх TCP или UDP и привязаны к определённому порту. Для HTTP это 80, 8080. Для FTP это 20 и 21. Для SSH 22.</td>
			</tr>
			<tr>
				<td>Транспортный (Transport layer)</td>
				<td>TCP, UDP, SCTP, DCPP</td>
				<td>Могут решать проблему негарантированной доставки сообщений («дошло ли сообщение до адресата?»), а также могут гарантировать правильную последовательность прихода данных.</td>
			</tr>
			<tr>
				<td>Сетевой (Internet layer)</td>
				<td>IP</td>
				<td>Сетевой уровень (Internet layer) изначально разработан для передачи данных из одной сети в другую. Примерами такого протокола является X.25 и IPC в сети ARPANET. С развитием концепции глобальной сети в уровень были внесены дополнительные возможности по передаче из любой сети в любую сеть, независимо от протоколов нижнего уровня, а также возможность запрашивать данные от удалённой стороны</td>
			</tr>
			<tr>
				<td>Канальный (Link layer)</td>
				<td>Ethernet, IEEE 802.11 (wi-fi)</td>
				<td>Канальный уровень (Link layer) описывает, каким образом передаются пакеты данных через физический уровень, включая кодирование (то есть специальные последовательности бит, определяющих начало и конец пакета данных).</td>
			</tr>
		</table>
		<p>TCP (IP идентификатор 6) — «гарантированный» транспортный механизм с предварительным установлением соединения, предоставляющий приложению надёжный поток данных, дающий уверенность в безошибочности получаемых данных, перезапрашивающий данные в случае потери и устраняющий дублирование данных. TCP позволяет регулировать нагрузку на сеть, а также уменьшать время ожидания данных при передаче на большие расстояния. Более того, TCP гарантирует, что полученные данные были отправлены точно в такой же последовательности. В этом его главное отличие от UDP.</p>
		<p>UDP (IP идентификатор 17) протокол передачи датаграмм без установления соединения. Также его называют протоколом «ненадёжной» передачи, в смысле невозможности удостовериться в доставке сообщения адресату, а также возможного перемешивания пакетов. В приложениях, требующих гарантированной передачи данных, используется протокол TCP.</p>
		
		<p></p>
		<h3>Сокеты</h3>
		<p>Для взаимодействия между машинами с помощью стека протоколов TCP/IP используются адреса и порты. Адрес для протокола IPv4 представляют разбитым на четыре поля, разделённых точками, по одному байту в поле. Например &quot;192.168.0.0&quot;. Номер порта для протокола TCP и UDP находится в диапазоне от 0 до 65535.</p>
		<p>Пара адрес-порт и есть Со́кет (англ. socket — разъём) — название программного интерфейса для обеспечения обмена данными между процессами. Процессы при таком обмене могут исполняться как на одной ЭВМ, так и на различных ЭВМ, связанных между собой сетью. Сокет — абстрактный объект, представляющий конечную точку соединения.</p>
		<p>В процессе обмена, как правило, используется два сокета — сокет отправителя и сокет получателя.</p>
		<p>Каждый процесс может создать «слушающий» сокет (серверный сокет) и привязать его к какому-нибудь порту операционной системы. Слушающий процесс обычно находится в цикле ожидания, то есть просыпается при появлении нового соединения. При этом сохраняется возможность проверить наличие соединений на данный момент, установить тайм-аут для операции и т. д.</p>
		<p>Дана ситуация: С компьютера по адресу 192.168.0.15 пользователь обращается к серверу по адресу 192.168.0.1 с помощью протокола HTTP.</p>
		<p>Сервер заранее занимает сокет получателя 192.168.0.1:80. При отправке запроса, клиент создаст сокет отправителя на 192.168.0.1:80 и займет порт для получения ответа 192.168.0.15:(случайное число). При получении запроса, сервер создаст сокет отправителя на 192.168.0.15:(случайное число).</p>
		
	</body>
</html>