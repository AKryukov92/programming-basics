<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>от ASCII до UTF-8</title>
		<style>
		.quote{
			font-family:monospace;
			margin:10px;
		}
		.side-note{
			text-align:right;
			display:block;
		}
		</style>
	</head>
	<body>
	<h2>Краткая история кодировок от ASCII до UTF-8</h2>
<span class="side-note">Опубликовано: 6 февраля 2014</span>
<span class="side-note"><a href="http://popel-studio.com/blog/article/kratkaya-istoriya-kodirovok-ot-ascii-do-utf-8.html">Источник</a></span>
<p>Наверняка все слышали, что информация в компьютерах хранится в виде двоичных чисел — нулей и единиц. Но не все знают, каким образом нолики и единички внутри превращаются в читабельный текст на экране. Всё, конечно же, очень просто: каждому символу соответствует определенная комбинация нулей и единиц — код. Совокупность таких кодов называется <b>кодировкой</b>.</p>

<p>На сегодняшний день самой распространенной кодировкой является <b>UTF-8</b>. Она включает в себя более двух миллионов символов: все возможные современные алфавиты, цифры, знаки препинания, математические и специальные символы, музыкальные знаки и символы вымерших форм письменности. А резерва UTF-8 хватит для размещения более двух миллиардов символов. Так что о смене кодировки в ближайшее время задумываться не придётся.</p>

<p>Однако торжество современных технологий — явление относительно новое. Согласно Google, самой распространенной в интернете кодировкой UTF-8 стала только в 2008 году — тогда ее использовали чуть более чем 25% проиндексированных веб-страниц. А еще в 2006 UTF-8 использовали менее чем 10% веб-страниц.</p>

<p>Стремительный рост популярности кодировки UTF-8 связан с целым рядом ее преимуществ перед предшественницами. Но чтобы действительно понять и оценить эти преимущества — нужно немного изучить историю вопроса.</p>

<h4>ASCII</h4>
<p>А начнем мы с возникновения кодировки ASCII, которую в середине двухтысячных и начала вытеснять собой из интернета кодировка UTF-8.</p>

<p class="quote"><b>ASCII (англ. American Standard Code for Information Interchange)</b> — американская стандартная кодировочная таблица для печатных символов и некоторых специальных кодов. В американском варианте английского языка произносится [э́ски], тогда как в Великобритании чаще произносится [а́ски]; по-русски произносится также [а́ски] или [аски́].</p>
<span class="side-note">— Статья об ASCII на Википедии (цитата)</span>

<p>Кодировка ASCII была разработана в 1963 году Американской Ассоциацией Стандартов (которая позже стала <b>Американским Национальным Институтом Стандартов — ANSI</b>), впоследствии несколько раз обновлялась — в 1967 и 1986 годах. ASCII — 7-битная кодировка, включающая в себя 128 символов: 33 <b>непечатных управляющих символа</b> (влияющих на обработку текста и пробелов) и 95 печатных символов, включая цифры, буквы латинского алфавита в строчном и прописном вариантах и ряд пунктуационных символов.<p>

<table>
<tr><td colspan="12">ASCII (American Standard Code for Information Interchange)</td></tr>
<tr><td>Dec</td> <td>Hex</td> <td>Char</td>  <td>Dec</td> <td>Hex</td>	<td>Char</td> <td>Dec</td>  <td>Hex</td> <td>Char</td> <td>Dec</td>	<td>Hex</td> <td>Char</td></tr>
<tr><td>0 </td>  <td>0 </td>  <td>NUL </td>  <td>32</td>  <td>20</td>	<td>(sp)</td> <td>64</td>	<td>40</td>  <td>@	</td>  <td>96 </td>	<td>60</td>	 <td>`</td></tr>
<tr><td>1 </td>  <td>1 </td>  <td>SOH </td>  <td>33</td>  <td>21</td>	<td>!</td>	  <td>65</td>	<td>41</td>	 <td>A	</td>  <td>97 </td> <td>61</td>	 <td>a  </td></tr>
<tr><td>2 </td>  <td>2 </td>  <td>STX </td>  <td>34</td>  <td>22</td>	<td>"</td>	  <td>66</td>	<td>42</td>	 <td>B	</td>  <td>98 </td> <td>62</td>	 <td>b  </td></tr>
<tr><td>3 </td>  <td>3 </td>  <td>ETX </td>  <td>35</td>  <td>23</td>	<td>#</td>	  <td>67</td>	<td>43</td>	 <td>C	</td>  <td>99 </td> <td>63</td>	 <td>c  </td></tr>
<tr><td>4 </td>  <td>4 </td>  <td>EOT </td>  <td>36</td>  <td>24</td>	<td>$</td>	  <td>68</td>	<td>44</td>	 <td>D	</td>  <td>100</td> <td>64</td>	 <td>d  </td></tr>
<tr><td>5 </td>  <td>5 </td>  <td>ENQ </td>  <td>37</td>  <td>25</td>	<td>%</td>	  <td>69</td>	<td>45</td>	 <td>E	</td>  <td>101</td> <td>65</td>	 <td>e  </td></tr>
<tr><td>6 </td>  <td>6 </td>  <td>ACK </td>  <td>38</td>  <td>26</td>	<td>&</td>	  <td>70</td>	<td>46</td>	 <td>F	</td>  <td>102</td> <td>66</td>	 <td>f  </td></tr>
<tr><td>7 </td>  <td>7 </td>  <td>BEL </td>  <td>39</td>  <td>27</td>	<td>'</td>	  <td>71</td>	<td>47</td>	 <td>G	</td>  <td>103</td> <td>67</td>	 <td>g  </td></tr>
<tr><td>8 </td>  <td>8 </td>  <td>BS </td>   <td>40</td>  <td>28</td>	<td>(</td>	  <td>72</td>	<td>48</td>	 <td>H	</td>  <td>104</td> <td>68</td>	 <td>h  </td></tr>
<tr><td>9 </td>  <td>9 </td>  <td>TAB </td>  <td>41</td>  <td>29</td>	<td>)</td>	  <td>73</td>	<td>49</td>	 <td>I	</td>  <td>105</td> <td>69</td>	 <td>i  </td></tr>
<tr><td>10</td>  <td>A </td>  <td>LF </td>   <td>42</td>  <td>2A</td>	<td>*</td>	  <td>74</td>	<td>4A</td>	 <td>J	</td>  <td>106</td> <td>6A</td>	 <td>j  </td></tr>
<tr><td>11</td>  <td>B </td>  <td>VT </td>   <td>43</td>  <td>2B</td>	<td>+</td>	  <td>75</td>	<td>4B</td>	 <td>K	</td>  <td>107</td> <td>6B</td>	 <td>k  </td></tr>
<tr><td>12</td>  <td>C </td>  <td>FF </td>   <td>44</td>  <td>2C</td>	<td>,</td>	  <td>76</td>	<td>4C</td>	 <td>L	</td>  <td>108</td> <td>6C</td>	 <td>l  </td></tr>
<tr><td>13</td>  <td>D </td>  <td>CR </td>   <td>45</td>  <td>2D</td>	<td>-</td>	  <td>77</td>	<td>4D</td>	 <td>M	</td>  <td>109</td> <td>6D</td>	 <td>m  </td></tr>
<tr><td>14</td>  <td>E </td>  <td>SO </td>   <td>46</td>  <td>2E</td>	<td>.</td>	  <td>78</td>	<td>4E</td>	 <td>N	</td>  <td>110</td> <td>6E</td>	 <td>n  </td></tr>
<tr><td>15</td>  <td>F </td>  <td>SI </td>   <td>47</td>  <td>2F</td>	<td>/</td>	  <td>79</td>	<td>4F</td>	 <td>O	</td>  <td>111</td> <td>6F</td>	 <td>o  </td></tr>
<tr><td>16</td>  <td>10</td>  <td>DLE </td>  <td>48</td>  <td>30</td>	<td>0</td>	  <td>80</td>	<td>50</td>	 <td>P	</td>  <td>112</td> <td>70</td>	 <td>p  </td></tr>
<tr><td>17</td>  <td>11</td>  <td>DC1 </td>  <td>49</td>  <td>31</td>	<td>1</td>	  <td>81</td>	<td>51</td>	 <td>Q	</td>  <td>113</td> <td>71</td>	 <td>q  </td></tr>
<tr><td>18</td>  <td>12</td>  <td>DC2 </td>  <td>50</td>  <td>32</td>	<td>2</td>	  <td>82</td>	<td>52</td>	 <td>R	</td>  <td>114</td> <td>72</td>	 <td>r  </td></tr>
<tr><td>19</td>  <td>13</td>  <td>DC3 </td>  <td>51</td>  <td>33</td>	<td>3</td>	  <td>83</td>	<td>53</td>	 <td>S	</td>  <td>115</td> <td>73</td>	 <td>s  </td></tr>
<tr><td>20</td>  <td>14</td>  <td>DC4 </td>  <td>52</td>  <td>34</td>	<td>4</td>	  <td>84</td>	<td>54</td>	 <td>T	</td>  <td>116</td> <td>74</td>	 <td>t  </td></tr>
<tr><td>21</td>  <td>15</td>  <td>NAK </td>  <td>53</td>  <td>35</td>	<td>5</td>	  <td>85</td>	<td>55</td>	 <td>U	</td>  <td>117</td> <td>75</td>	 <td>u  </td></tr>
<tr><td>22</td>  <td>16</td>  <td>SYN </td>  <td>54</td>  <td>36</td>	<td>6</td>	  <td>86</td>	<td>56</td>	 <td>V	</td>  <td>118</td> <td>76</td>	 <td>v  </td></tr>
<tr><td>23</td>  <td>17</td>  <td>ETB </td>  <td>55</td>  <td>37</td>	<td>7</td>	  <td>87</td>	<td>57</td>	 <td>W	</td>  <td>119</td> <td>77</td>	 <td>w  </td></tr>
<tr><td>24</td>  <td>18</td>  <td>CAN </td>  <td>56</td>  <td>38</td>	<td>8</td>	  <td>88</td>	<td>58</td>	 <td>X	</td>  <td>120</td> <td>78</td>	 <td>x  </td></tr>
<tr><td>25</td>  <td>19</td>  <td>EM </td>   <td>57</td>  <td>39</td>	<td>9</td>	  <td>89</td>	<td>59</td>	 <td>Y	</td>  <td>121</td> <td>79</td>	 <td>y  </td></tr>
<tr><td>26</td>  <td>1A</td>  <td>SUB </td>  <td>58</td>  <td>3A</td>	<td>:</td>	  <td>90</td>	<td>5A</td>	 <td>Z	</td>  <td>122</td> <td>7A</td>	 <td>z  </td></tr>
<tr><td>27</td>  <td>1B</td>  <td>ESC </td>  <td>59</td>  <td>3B</td>	<td>;</td>	  <td>91</td>	<td>5B</td>	 <td>[	</td>  <td>123</td> <td>7B</td>	 <td>{  </td></tr>
<tr><td>28</td>  <td>1C</td>  <td>FS </td>   <td>60</td>  <td>3C</td>	<td><</td>	  <td>92</td>	<td>5C</td>	 <td>\	</td>  <td>124</td> <td>7C</td>	 <td>|  </td></tr>
<tr><td>29</td>  <td>1D</td>  <td>GS </td>   <td>61</td>  <td>3D</td>	<td>=</td>	  <td>93</td>	<td>5D</td>	 <td>]	</td>  <td>125</td> <td>7D</td>	 <td>}  </td></tr>
<tr><td>30</td>  <td>1E</td>  <td>RS </td>   <td>62</td>  <td>3E</td>	<td>></td>	  <td>94</td>	<td>5E</td>	 <td>^	</td>  <td>126</td> <td>7E</td>	 <td>~  </td></tr>
<tr><td>31</td>  <td>1F</td>  <td>US </td>   <td>63</td>  <td>3F</td>	<td>?</td>	  <td>95</td>	<td>5F</td>	 <td>_	</td>  <td>127</td> <td>7F</td>	 <td>DEL</td></tr>
</table>
<span class="side-note">Таблица ASCII</span>

<p>Форматирование:
	<ul>
		<li>BS	Backspace (Возврат на один символ). Указывает на движение механизма печати или курсора дисплея назад на одну позицию.</li>
		<li>HT	Horizontal Tabulation (Горизонтальное Табулирование). Указывает на движение механизма печати или курсора дисплея до следующей предписанной 'позиции табуляции'.</li>
		<li>LF	Line Feed (Перевод строки). Указывает на движение механизма печати или курсора дисплея к началу следующей строки (на одну строку вниз).</li>
		<li>VT	Vertical Tabulation (Вертикальное Табулирование). Указывает на движение механизма печати или курсора дисплея к следующей группе строк.</li>
		<li>FF	Form Feed (Перевод страницы). Указывает на движение механизма печати или курсора дисплея к исходной позиции следующей страницы, формы или экрана.</li>
		<li>CR	Carriage Return (Перевод каретки). Указывает на движение механизма печати или курсора дисплея к исходной (крайней левой)позиции текущей строки.</li>
	</ul>
<p>
<p>Передача данных:
	<ul>
		<li>SOH	Start of Heading (Начало Заголовка). Используется для указания начала заголовка, который может содержать информацию о маршрутизации или адрес.</li>
		<li>STX	Start of Text (Начало Текста). Указывает на начало текста и одновременно на конец заголовка.</li>
		<li>ETX	End of Text (Конец Текста). Используется при завершении текста, который был начат с символа STX.</li>
		<li>ENQ	Enquiry (Запрос). Запрос идентификационных данных (типа "Кто Вы?") от удаленной станции.</li>
		<li>ACK	Acknowledge (Подтверждение). Приемное устройство передает этот символ отправителю в качестве подтверждения успешного приема данных.</li>
		<li>NAK	Negative Acknowledgement (Неподтверждение). Приемное устройство передает этот символ отправителю в случае отрицания (неудачи) приема данных.</li>
		<li>SYN	Synchronous/Idle (Синхронизация). Используется в синхронизированных системах передачи. В моменты отсутствия передачи данных система непрерывно посылает символы SYN для обеспечения синхронизации.</li>
		<li>ETB	End of Transmission Block (Конец Блока Передачи). Указывает на конец блока данных для коммуникационных целей. Используется для разбиения на отдельные блоки больших объемов данных.</li>
	</ul>
</p>
<p>Разделительные знаки при передаче информации:
	<ul>
		<li>FS	File Separator (Разделитель файлов).
		<li>GS	Group Separator (Разделитель групп).
		<li>RS	Record Separtator (Разделитель записей).
		<li>US	Unit Separator (Разделитель элементов).
	</ul>
</p>

<p>Расположение символов внутри кодировки упрощало сортировку, смену регистра букв и перевод десятичных чисел в двоичную форму и обратно — словом, постарались авторы на славу. Однако решить абсолютно все задачи эта кодировка не могла. В частности, в ASCII не было букв и символов многих национальных алфавитов.</p>

<h4>ISO/IEC 646</h4>
<p>По этой причине в 1972 году началась разработка группы кодировок, основанных на ASCII, где редко используемые символы из ASCII заменялись на необходимые. Группа включала в себя варианты кодировки для Канады, Китая, Кубы, Германии, Дании, Финляндии, Франции, Великобритании, Греции, Венгрии, Ирландии, Японии, Южной Кореи, Мальты, Норвегии, Швеции и Югославии.</p>

<p>Стандартизация кодировок группы позволила свести различия между кодировками разных стран к минимуму.</p>

<h4>KOI8</h4>
<p>Естественно, СССР не остался в стороне, разработав в 1974 году свою кодировку — <b>KOI8</b> (Код Обмена Информацией, 8 бит). Как следует из названия, это была 8-битная кодировка, что позволяло включить в нее в два раза больше символов. KOI8 включала в себя цифры, буквы латинского и русского алфавита, а также знаки пунктуации, спецсимволы и псевдографику.</p>

<p>Разработчики КОИ-8 поместили символы русского алфавита в верхней части кодовой таблицы таким образом, что позиции символов кириллицы соответствуют их фонетическим аналогам в английском алфавите из нижней части таблицы. Это означает, что если в тексте, написанном в КОИ-8, убрать восьмой бит каждого символа, то получится «читаемый» текст, подобный транслиту. Например, слова «Русский Текст» превратятся в «rUSSKIJ tEKST». Из‑за этого символы кириллицы расположены не в алфавитном порядке.</p>

<p>Существует несколько вариантов кодировки КОИ-8 для различных кириллических алфавитов, расширяющие определённые коды (общий диапазон 192—255 с 32 русскими буквами в двух регистрах остаётся неизменным во всех вариантах). Русский алфавит описывается в кодировке KOI8-R, украинский — в KOI8-U, таджикский — в KOI8-T.</p>

<p>В 1990-х годах KOI8-R стал фактически стандартом для кодирования русской кириллицы в юникс-подобных операционных системах и электронной почте. Автор данной кодировки (RFC 1489) — Андрей Чернов в начале 1990-х годов работал в компании Демос (сеть Релком) и непосредственно участвовал в запуске и наладке первого интернет-канала между Россией и западными странами. КОИ-8 стала первой русской стандартизированной кодировкой в интернете.</p>

<p>Эта кодировка существует в нескольких вариантах для разных кириллических алфавитов, в частности: KOI8-R — для русского алфавита, и KOI8-U — для украинского. Кодировки KOI8 стали одними из самых популярных в русском сегменте интернет до распространения UTF-8.</p>

<h4>ISO/IEC 8859</h4>
<p>Ранние кодировки были ограничены 7 битами из-за особенностей некоторых протоколов передачи данных. Однако со временем эти ограничения свою актуальность потеряли, в то время как необходимость в дополнительных символах для языков, использующих латинский алфавит, только росла. Поэтому в середине 80-х началась работа над группой 8-битных кодировок, получившей название ISO/IEC 8859. Все кодировки этой группы были основаны на ASCII. Помимо расширения диапазона доступных символов за счет восьмого бита, на печатные символы была заменена часть устаревших к тому моменту непечатных управляющих символов.</p>

<p>Здесь стоит отметить две кодировки из группы. Первая — <b>ISO-8859-1</b> — была опубликована в 1987 году. Она включала в себя так называемый «Латинский алфавит номер 1» (сокращенно Latin-1), состоящий из 191 символа латинского письма. Этот набор символов используется по всей Северной и Южной Америке, в Западной Европе, Океании и на большей части Африки. Кодировка ISO-8859-1 стала основой для наиболее популярных 8-битных кодировок.</p>

<p>В 1988 году была опубликована <b>ISO-8859-5</b>. Она была создана для работы с кириллическими языками. Включенные в эту кодировку символы обеспечивали полную поддержку русского, белорусского, болгарского, сербского и македонского языков. А вот для полной поддержки украинского языка ей не хватало буквы «ґ». Особого распространения эта кодировка не получила, но интересен сам факт разработки кириллической кодировки в рамках группы кодировок ISO/IEC.</p>

<h4>Windows-125x</h4>
<p>В начале 90-х годов компания Microsoft разработала группу кодировок для ОС Windows. Среди прочих хочется отметить две кодировки: Windows-1251 и Windows-1252.</p>

<p><b>Windows-1251</b> была разработана на базе «самодельных» кодировок для русификаторов Windows при участии российской компании-разработчика ПО «ПараГраф» и СП «Диалог» — совместного советско-американского предприятия в области вычислительной техники. В эту кодировку вошли все символы русского и близких к нему языков: украинского, белорусского, болгарского, сербского и македонского. На практике этого оказалось достаточно, чтобы кодировка Windows-1251 закрепилась в интернете вплоть до распространения UTF-8.</p>

<p><b>Windows-1252</b> была разработана на основе кодировки ISO-8859-1 путем замены ряда непечатных контрольных символов на печатные (в частности, символ евро, ряд пунктуационных и несколько других символов). Сходство этих двух кодировок часто приводило к неверному отображению текста, когда вместо новых символов из Windows-1252 отображались знаки вопроса. Эта ситуация была настолько частой, что многие почтовые клиенты для отображения писем кодировки ISO-8859-1 стали использовать Windows-1252. В конечном итоге такое поведение было внесено в спецификацию HTML 5 в качестве требования.</p>

<h4>Переходный период</h4>
<p>Начиная с середины 90-х в кириллическом сегменте интернета можно было регулярно наблюдать проблемы с кодировками. Виной тому было сразу несколько факторов. Во-первых, инструменты разработки и браузеры того времени не умели грамотно работать с кодировками. Во-вторых, во всех наиболее распространенных кириллических кодировках коды кириллических символов были разными. В англоязычном сегменте сети последней проблемы не было, ведь во всех основных кодировках, начиная с ASCII, символы латиницы имели одинаковые коды символов.</p>

<p>Интересно, что в KOI8-R русский алфавит был расположен не в алфавитном порядке: позиции символов русского алфавита соответствовали их фонетическим аналогам в английском алфавите. Таким образом, при интерпретации кодировки текста как 7-битной, русский текст превращался в некое подобие транслита. Например, слова «Русский Текст» превратились бы в «rUSSKIJ tEKST».</p>

<p>Совокупность этих факторов привела к появлению на большинстве сайтов страниц с выбором кодировки. Несмотря на то, что кодировка UTF-8 существовала с 1993 года, переходить на нее не спешили, ведь каждый кириллический символ, кодированный с помощью UTF-8, занимал 2 байта, что приводило к двукратному увеличению объема данных, необходимых для хранения и передачи кириллического текста. Во времена модемной связи и относительно малых объемов устройств хранения информации это была непозволительная роскошь.</p>

<h4>UTF-8</h4>
<p>Впервые кодировка UTF-8 была официально представлена на конференции <b>USENIX</b> в Сан Диего в январе 1993. От других мультибайтных кодировок ее отличала полная совместимость с ASCII: все символы ASCII в UTF-8 кодируются 7 битами. Каждый символ кодировки, отличный от ASCII, состоит из ведущего байта, указывающего длину последовательности, и одного или нескольких продолжающих байт. Такой принцип позволяет определить длину последовательности только по первому байту. Коды символов ASCII, ведущих и продолжающих байт не пересекаются, что позволяет легко найти начало последовательности простым откатом назад максимум на пять байт.</p>

<p>В ноябре 2003 года стандартом <b>RFC-3629</b> максимальная длина последовательности UTF-8 была ограничена четырьмя байтами, однако потенциально UTF-8 позволяет использовать последовательности вплоть до шести байт.</p>

<h4>Принцип кодирования</h4>
<p>У всех однобайтных символов <b>старший бит</b> кода установлен в 0 и полностью совпадает с кодом символа в ASCII:</p>

<p>UTF-8 Byte 1
0*******</p>

<p>У всех многобайтных последовательностей <b>ведущий байт</b> начинается с двух и более единиц в старших битах. Количество единиц ведущего байта соответствует длине мультибайтной последовательности. Все продолжающие байты начинаются с 10 в двух старших битах. Все неиспользуемые схемой кодирования биты мультибайтных последовательностей используются для кодирования символов:</p>

<table>
<tr><td>UTF-8</td>   <td>Byte 2</td></tr>
<tr><td>110*****</td><td>10******</td></tr>
</table>

<table>
<tr><td>UTF-8</td><td>Byte 3</td></tr>
<tr><td>1110****</td><td>10******</td><td>10*****</td></tr>
</table>

<table>
<tr><td>UTF-8</td><td>Byte 4</td></tr>
<tr><td>11110***</td><td>10******</td><td>10*****</td><td>10******</td></tr>
</table>

<p>Такой подход создает несколько символьных диапазонов разной величины. Первый диапазон использует 7 бит и кодирует до 128 символов. Второй диапазон использует 11 бит и кодирует до 2 048 символов. Третий и четвертый диапазоны используют 16 бит и 21 бит соответственно и позволяют кодировать до 65 536 и 2 097 152 соответственно. В сумме все четыре диапазона значений позволяют кодировать до 2 164 864 символов.</p>

<p>Кодировка <b>UTF-8</b> является универсальной и имеет внушительный резерв на будущее. Это делает ее наиболее удобной кодировкой для использования в интернете.</p>
	
	</body>
</html>